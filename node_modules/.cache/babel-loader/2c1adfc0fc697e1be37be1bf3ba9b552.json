{"ast":null,"code":"var _jsxFileName = \"/home/wilson/projetosParticular/yt-react-parallax/src/hooks/useGlobalScroll.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\n//\n// ONE SCROLL LISTENER TO RULE THEM ALL\n// ONE RESIZE LISTENER TO FIND THEM\n// ONE WINDOW HEIGHT CALCULATED ONCE\n// AND ONE DOC HEIGHT TO BIND TO\n//\nimport React, { useContext, useEffect, useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GlobalScrollContext = /*#__PURE__*/React.createContext(undefined);\nconst GlobalWinHeightContext = /*#__PURE__*/React.createContext(undefined);\nconst GlobalDocHeightContext = /*#__PURE__*/React.createContext(undefined);\nexport const GlobalScrollProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [scrollY, setScrollY] = useState(0);\n  const [winHeight, setWinHeight] = useState(0);\n  const [docHeight, setDocHeight] = useState(0); // Cached refs just used for useEffect dependency\n\n  const _scrollY = useRef(scrollY);\n\n  const _winHeight = useRef(winHeight);\n\n  const _docHeight = useRef(docHeight);\n\n  _scrollY.current = scrollY;\n  _winHeight.current = winHeight;\n  _docHeight.current = docHeight;\n  useEffect(() => {\n    let currentScrollY = _scrollY.current || 0;\n    let currentWinHeight = _winHeight.current || 0;\n    let currentDocHeight = _docHeight.current || 0;\n    let prevScrollY = currentScrollY || 0;\n    let prevWinHeight = currentWinHeight || 0;\n    let prevDocHeight = currentDocHeight || 0;\n    let animationId = null;\n\n    const onTick = () => {\n      if (currentScrollY !== prevScrollY) setScrollY(currentScrollY);\n      if (currentWinHeight !== prevWinHeight) setWinHeight(currentWinHeight);\n      if (currentDocHeight !== prevDocHeight) setDocHeight(currentDocHeight);\n      prevScrollY = currentScrollY;\n      prevWinHeight = currentWinHeight;\n      prevDocHeight = currentDocHeight;\n      animationId = window.requestAnimationFrame(onTick);\n    };\n\n    onTick();\n\n    const onScroll = e => {\n      currentScrollY = window.pageYOffset || 0;\n    };\n\n    const onResize = e => {\n      currentWinHeight = window.innerHeight || 0;\n      currentDocHeight = document.body.clientHeight || 0;\n    };\n\n    onResize();\n    window.addEventListener('resize', onResize);\n    document.addEventListener('scroll', onScroll);\n    return () => {\n      window.removeEventListener('resize', onResize);\n      document.removeEventListener('scroll', onScroll);\n      cancelAnimationFrame(animationId);\n    };\n  }, [_scrollY, _winHeight, _docHeight]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(GlobalScrollContext.Provider, {\n      value: scrollY,\n      children: /*#__PURE__*/_jsxDEV(GlobalWinHeightContext.Provider, {\n        value: winHeight,\n        children: /*#__PURE__*/_jsxDEV(GlobalDocHeightContext.Provider, {\n          value: docHeight,\n          children: children\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n\n_s(GlobalScrollProvider, \"UFrVlE9c9H6xQforc2LaTUPUO1Q=\");\n\n_c = GlobalScrollProvider;\nexport const useGlobalScroll = () => {\n  _s2();\n\n  const scrollY = useContext(GlobalScrollContext);\n  const winHeight = useContext(GlobalWinHeightContext);\n  const docHeight = useContext(GlobalDocHeightContext);\n\n  if (scrollY === undefined || winHeight === undefined || docHeight === undefined) {\n    throw new Error('useGlobalScroll must be used inside a GlobalScrollProvider');\n  }\n\n  return [scrollY || 0, winHeight || 0, docHeight || 0];\n};\n\n_s2(useGlobalScroll, \"uSzjPtXxm1HQ1W3xGHrDFUfT/DI=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"GlobalScrollProvider\");","map":{"version":3,"sources":["/home/wilson/projetosParticular/yt-react-parallax/src/hooks/useGlobalScroll.js"],"names":["React","useContext","useEffect","useRef","useState","GlobalScrollContext","createContext","undefined","GlobalWinHeightContext","GlobalDocHeightContext","GlobalScrollProvider","children","scrollY","setScrollY","winHeight","setWinHeight","docHeight","setDocHeight","_scrollY","_winHeight","_docHeight","current","currentScrollY","currentWinHeight","currentDocHeight","prevScrollY","prevWinHeight","prevDocHeight","animationId","onTick","window","requestAnimationFrame","onScroll","e","pageYOffset","onResize","innerHeight","document","body","clientHeight","addEventListener","removeEventListener","cancelAnimationFrame","useGlobalScroll","Error"],"mappings":"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","sourcesContent":["//\n// ONE SCROLL LISTENER TO RULE THEM ALL\n// ONE RESIZE LISTENER TO FIND THEM\n// ONE WINDOW HEIGHT CALCULATED ONCE\n// AND ONE DOC HEIGHT TO BIND TO\n//\n\nimport React, { useContext, useEffect, useRef, useState } from 'react';\n\nconst GlobalScrollContext = React.createContext(undefined);\nconst GlobalWinHeightContext = React.createContext(undefined);\nconst GlobalDocHeightContext = React.createContext(undefined);\n\nexport const GlobalScrollProvider = ({ children }) => {\n  const [scrollY, setScrollY] = useState(0);\n  const [winHeight, setWinHeight] = useState(0);\n  const [docHeight, setDocHeight] = useState(0);\n\n  // Cached refs just used for useEffect dependency\n  const _scrollY = useRef(scrollY);\n  const _winHeight = useRef(winHeight);\n  const _docHeight = useRef(docHeight);\n  _scrollY.current = scrollY;\n  _winHeight.current = winHeight;\n  _docHeight.current = docHeight;\n\n  useEffect(() => {\n    let currentScrollY = _scrollY.current || 0;\n    let currentWinHeight = _winHeight.current || 0;\n    let currentDocHeight = _docHeight.current || 0;\n    let prevScrollY = currentScrollY || 0;\n    let prevWinHeight = currentWinHeight || 0;\n    let prevDocHeight = currentDocHeight || 0;\n    let animationId = null;\n\n    const onTick = () => {\n      if (currentScrollY !== prevScrollY) setScrollY(currentScrollY);\n      if (currentWinHeight !== prevWinHeight) setWinHeight(currentWinHeight);\n      if (currentDocHeight !== prevDocHeight) setDocHeight(currentDocHeight);\n\n      prevScrollY = currentScrollY;\n      prevWinHeight = currentWinHeight;\n      prevDocHeight = currentDocHeight;\n      animationId = window.requestAnimationFrame(onTick);\n    };\n\n    onTick();\n\n    const onScroll = (e) => {\n      currentScrollY = window.pageYOffset || 0;\n    };\n\n    const onResize = (e) => {\n      currentWinHeight = window.innerHeight || 0;\n      currentDocHeight = document.body.clientHeight || 0;\n    };\n\n    onResize();\n\n    window.addEventListener('resize', onResize);\n    document.addEventListener('scroll', onScroll);\n    return () => {\n      window.removeEventListener('resize', onResize);\n      document.removeEventListener('scroll', onScroll);\n      cancelAnimationFrame(animationId);\n    };\n  }, [_scrollY, _winHeight, _docHeight]);\n\n  return (\n    <div>\n      <GlobalScrollContext.Provider value={scrollY}>\n        <GlobalWinHeightContext.Provider value={winHeight}>\n          <GlobalDocHeightContext.Provider value={docHeight}>{children}</GlobalDocHeightContext.Provider>\n        </GlobalWinHeightContext.Provider>\n      </GlobalScrollContext.Provider>\n    </div>\n  );\n};\n\nexport const useGlobalScroll = () => {\n  const scrollY = useContext(GlobalScrollContext);\n  const winHeight = useContext(GlobalWinHeightContext);\n  const docHeight = useContext(GlobalDocHeightContext);\n\n  if (scrollY === undefined || winHeight === undefined || docHeight === undefined) {\n    throw new Error('useGlobalScroll must be used inside a GlobalScrollProvider');\n  }\n\n  return [scrollY || 0, winHeight || 0, docHeight || 0];\n};\n"]},"metadata":{},"sourceType":"module"}